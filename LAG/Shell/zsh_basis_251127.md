# buildLog
- program: **Shell_zsh_basis** 
- status: **building** 

-----------------------------------------------------------------------------

```zsh
# 支持多種語法

if <condition> {
}elif{}
else{}

while <condition>{}

for i (<array>){}

case $i {
    (a)
    <cmd>
    ;;
    
    (b)
    ...
    ;&
    # 執行下一個
    
    (c)
    ...
    ;|
    # 判斷下一個
    
    (*)
    ...
    ;;
}

select i (aa bb cc){
    ...
}
# 用戶輸入語句 
```

`[[..]]` 用於字符串比較;
`((..))` 用於數值比較;
`{..}` 用於運行命令;
`(..)` 用於在子shell中運行命令;

> - zsh 使用 `%` 作爲命令提示符
> - zsh 支持浮點數類型 相比於bash
> - zsh 單引號可以使用轉義字符
> - zsh 支持數組截取及負索引 `str[2,-1]`
> - zsh 数组索引从1开始计算

-----------------------------------------------------------------------------

### 字符串操作

```zsh
echo $str[(I)ab]
# 从右往左匹配 "ab" 失败返回0
echo $str[(I)ab]
# 反之 失败返回 $#str+1

echo ${str:#ab}
# str匹配则输出空 反之输出 $str
echo ${(M)str:#ab}
# 反转输出

str[n]=
# 删除指定索引或区间
str[n]=2345
# 不定长替换

(($+str))
# 检查变量是否定义

${(U)str}   || ${str:u}
${(L)str}   || ${str:l}
${(C)str}
# 大写/小写/首字母大写其余小写

${str:h}    # 目录名 最后 / 之前部分 或 .
${str:t}    # 文件名 最后 / 之后部分 或 $str
${str:e}    # 拓展名 最后 . 之后部分 或 空
${str:r}    # 去除拓展名

${str:A}    # 相对路径转绝对路径

${str[(w)2]}    # 使用空格作为分隔符
${str[(ws:--:)3]}   # 指定分隔符 : 可为任意字符

str=$(<filename)
echo "$(<filename)"
# 性能超过 cat

echo ${"$(<filename)"[(f)2]}        # 第二行
echo ${"$(<filename)"[(fr)*ars*]}   # 包含 ars 第一行
# 在读取小文件和频繁调用时性能超过 sed

wc -l <(ps)     # 返回 fd 路径 可能报错
wc -l =(ps)     # 临时文件
```

> - zsh 支持數組截取及負索引 `str[2,-1]`

-----------------------------------------------------------------------------
